/*!
 * particle-bg v0.1.0
 * https://github.com/PengJiyuan/particle-bg
 *
 * Copyright (c) 2018 PengJiyuan
 * Licensed under the MIT license.
 */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):t.particleBg=i()}(this,function(){"use strict";var e=function(t,i){void 0===i&&(i={}),this.element=document.querySelector(t),this.color=i.color||"#fff",this.width=this.element.clientWidth,this.height=this.element.clientHeight,this.distance=i.distance||this.width/10,this.radius=i.radius||2,this.points=[],this.count=i.count||100,this.zIndex=i.zIndex||1,this.rate=i.rate||.2,this.appendCanvas();for(var e=0;e<this.count;e++)this.points.push(this.getPoint())};return e.prototype.getPoint=function(){return{x:Math.ceil(Math.random()*this.width),y:Math.ceil(Math.random()*this.height),r:+(Math.random()*this.radius).toFixed(4),rateX:+(2*Math.random()-1).toFixed(4),rateY:+(2*Math.random()-1).toFixed(4)}},e.prototype.appendCanvas=function(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.zIndex=this.zIndex,this.element.appendChild(this.canvas)},e.prototype.draw=function(){this.ctx.clearRect(0,0,this.width,this.height),this.drawPoints(),this.drawLines(),window.requestAnimationFrame(this.draw.bind(this))},e.prototype.drawPoints=function(){var e=this;this.points.forEach(function(t,i){e.ctx.beginPath(),e.ctx.arc(t.x,t.y,t.r,0,2*Math.PI,!1),e.ctx.fillStyle=e.color,e.ctx.fill(),0<t.x&&t.x<e.width&&0<t.y&&t.y<e.height?(t.x+=t.rateX*e.rate,t.y+=t.rateY*e.rate):(e.points.splice(i,1),e.points.push(e.getPoint(e.radius)))})},e.prototype.dis=function(t,i,e,n){var s=Math.abs(t-e),h=Math.abs(i-n);return Math.sqrt(s*s+h*h)},e.prototype.drawLines=function(){for(var t=this,i=this.points.length,e=0;e<i;e++)for(var n=i-1;0<=n;n--){var s=t.points[e].x,h=t.points[e].y,o=t.points[n].x,a=t.points[n].y,r=t.dis(s,h,o,a);r<=t.distance&&(t.ctx.beginPath(),t.ctx.moveTo(s,h),t.ctx.lineTo(o,a),t.ctx.strokeStyle=t.color,t.ctx.lineWidth=1-r/t.distance,t.ctx.stroke())}},function(t,i){new e(t,i).draw()}});
